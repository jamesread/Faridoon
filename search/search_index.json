{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Faridoon","text":"<p>Welcome! Faridoon is a web app to publish your favourite chat quotes. This is the documentation site that should tell you how to set it up and use it.</p> <p>You can learn more about Faridoon on it's GitHub site; jamesread/Faridoon.</p> <ul> <li>Docker Compose - this is the preferred way to run Faridoon.</li> </ul> <p>If you need help understanding something that is not documented, or just need other help with Faridoon, please check the contact &amp; support page.</p>"},{"location":"contact-support/","title":"Contact &amp; Support","text":"<p>Faridoon is an open source project and is maintained by jamesread. However, please use the GitHub issue tracker to report bugs and request features. You can also use it for support tickets.</p> <p>You can also get in touch via the OliveTin Discord server. </p>"},{"location":"configuration/","title":"Configuration","text":""},{"location":"configuration/#database-settings","title":"Database Settings","text":"<ul> <li><code>DB_HOST</code>: Database host</li> <li><code>DB_USER</code>: Database user</li> <li><code>DB_PASS</code>: Database password</li> <li><code>DB_NAME</code>: Database name</li> </ul>"},{"location":"configuration/#feature-flags","title":"Feature Flags","text":"<ul> <li><code>ENABLE_VOTING</code>: Enable voting feature, set to \"1\" to enable voting. (default: 0).</li> <li><code>ENABLE_SYNTAX_HIGHLIGHTING</code>: Enable the ability to set a code style for syntax highlighting (admin only).</li> </ul>"},{"location":"configuration/#guest-settings","title":"Guest settings","text":"<ul> <li><code>GUESTS_DISABLE_ADD</code>: Set to \"true\" to disable guests from adding new quotes (default: unset - guests can submit quotes).</li> </ul>"},{"location":"installation/","title":"Installation options","text":"<p>This section includes information on the various different installation options available for Faridoon. At the moment, it is strongly recommended to use the Docker Compose installation method.</p>"},{"location":"installation/docker-compose/","title":"Install Faridoon with Docker Compose","text":"<p>Docker compose is the recommended way to run Faridoon. This page assumes that you have a working understanding of Docker and Docker Compose. If you are new to Docker, please refer to the Docker documentation.</p> <p>You can use the following <code>docker-compose.yml</code> file to run Faridoon with Docker Compose:</p> docker-compose.yml<pre><code>---\nname: faridoon\n\nservices:\n  faridoon:\n    container_name: faridoon\n    image: ghcr.io/jamesread/faridoon\n    volumes:\n      - faridoon-config:/config\n    ports:\n      - \"8080:8080\"\n    environment:\n      DB_HOST: faridoon-mysql\n      DB_NAME: faridoon\n      DB_USER: faridoon\n      DB_PASS: toomanysecrets\n    restart: unless-stopped\n    networks:\n      - faridoon-network\n    depends_on:\n      faridoon-mysql:\n        condition: service_healthy\n\n  faridoon-mysql:\n    container_name: faridoon-mysql\n    image: mysql\n    volumes:\n      - faridoon-mysql:/var/lib/mysql\n    environment:\n      MYSQL_ROOT_PASSWORD: hunter2\n      MYSQL_DATABASE: faridoon\n      MYSQL_USER: faridoon\n      MYSQL_PASSWORD: toomanysecrets\n    restart: unless-stopped\n    networks:\n      - faridoon-network\n    healthcheck:\n      test: [\"CMD-SHELL\", \"mysqladmin ping -h localhost\"]\n      interval: 20s\n      timeout: 5s\n      retries: 10\n\nvolumes:\n  faridoon-config:\n  faridoon-mysql:\n\nnetworks:\n  faridoon-network:\n</code></pre> <p>Change your environment variables as necessary to set your passwords (<code>DB_PASS</code> should be the same as <code>MYSQL_PASSWORD</code>. <code>DB_USER</code> should be the same as <code>MYSQL_USER</code>, etc).</p> <p>Save this file as <code>docker-compose.yml</code> and run <code>docker-compose up -d</code> in the same directory. Faridoon will be available at <code>http://localhost:8080</code>.</p>"},{"location":"installation/docker/","title":"Install Faridoon with Docker","text":"<p>The container image for Faridoon can be found on GitHub Container Registry, and can be pulled using the following commands:</p> <pre><code>docker pull ghcr.io/jamesread/faridoon:latest\n</code></pre> <p>Faridoon container images are build for the amd64 and arm64 architectures.</p> <p>The container can be run using the following command:</p> <pre><code>docker run -it --name faridoon --port 8080:8080 -e DB_HOST=mysql -e DB_PASS=hunter2 -e DB_USER=faridoon ghcr.io/jamesread/faridoon:latest\n</code></pre> <p>Consider using Docker Compose instead though, it's a lot easier.</p>"},{"location":"installation/migrations/","title":"Run database migrations","text":""},{"location":"installation/migrations/#database-migrations","title":"Database Migrations","text":"<p>Faridoon automatically applies database upgrades (called \"migrations\" in database terminology) every time the container starts. If there are no changes to be made, the startup just continues. </p> <p>Therefore, it should not be necessary to run migrations manually. However, if you would like to do so, the instructions are below for how to do this.</p> <p>However, running migrations is easy. You will need to get a shell on the <code>faridoon</code> container. You can do this like this;</p> <pre><code>docker exec -it faridoon /bin/bash\n</code></pre> <p>This will give you a command prompt like this;</p> <pre><code>www-data@70fc8f2b445c:/var/faridoon$\n</code></pre> <p>Change to the database directory, and you should be able to run <code>sql-migrate up</code> without any problems - as the database username, password, and database name are all set in the environment variables.</p> <pre><code>www-data@70fc8f2b445c:/var/faridoon$ cd database\nwww-data@70fc8f2b445c:/var/faridoon$ sql-migrate up\n</code></pre> <p>This will run all the available migrations, and you should see output like this;</p> <pre><code>www-data@70fc8f2b445c:/var/faridoon/database$ sql-migrate up\nApplied 1 migration\n</code></pre> <p>If you see this, then the migrations have been applied successfully.</p> <p>You can exit the container by typing <code>exit</code> at the command prompt.</p>"},{"location":"security/","title":"Security","text":""},{"location":"security/#superusers","title":"Superusers","text":"<p>The first registered user in Faridoon is granted superuser permissions. All registrations after that are given standard permissions (which can later be upgraded). </p>"},{"location":"security/#setting-up-a-moderators-usergroup","title":"Setting up a moderators usergroup","text":"<p>You can create a usergroup for moderators, it should look something like this;</p> <p></p>"},{"location":"security/#guests","title":"Guests","text":"<p>Guests exist ourside of the users and permissions system. All guest permissions must be set through environment variables. See the configuration section for more information.</p>"}]}